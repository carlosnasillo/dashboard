machine:
  timezone: 
    UTC
  java:
    version: oraclejdk8

dependencies:
  cache_directories:
    - ~/.sbt
    - ~/.ivy2
    - ~/.activator
    - ~/.m2
  override:
    - "./activator compile":
        timeout: 300
  pre:
    - "cd public && npm install":
        timeout: 300

test:
  override:
    - "./activator test":
        timeout: 900
    - "cd public && npm test":
        timeout: 900
  post:
    - "mkdir -p $CIRCLE_TEST_REPORTS/junit/"
    - "cp target/test-reports/*.xml $CIRCLE_TEST_REPORTS/junit/ 2>/dev/null || :"

##deployment:
##  staging:
##    branch: foo-branch
##    heroku:
##     appname: foo-bar-123

##notify:
##  webhooks:
##    TODO [carlos] - Slack integration